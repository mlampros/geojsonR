<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Processing of GeoJson data in R • geojsonR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Processing of GeoJson data in R">
<meta property="og:description" content="geojsonR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geojsonR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/the_geojsonR_package.html">Processing of GeoJson data in R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlampros/geojsonR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="the_geojsonR_package_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Processing of GeoJson data in R</h1>
                        <h4 class="author">Lampros Mouselimis</h4>
            
            <h4 class="date">2021-07-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mlampros/geojsonR/blob/master/vignettes/the_geojsonR_package.Rmd"><code>vignettes/the_geojsonR_package.Rmd</code></a></small>
      <div class="hidden name"><code>the_geojsonR_package.Rmd</code></div>

    </div>

    
    
<p>“<a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a> is an open standard format designed for representing simple geographical features, along with their non-spatial attributes, based on JavaScript Object Notation. The features include points (therefore <em>addresses</em> and <em>locations</em>), line strings (therefore <em>streets</em>, <em>highways</em> and <em>boundaries</em>), polygons (<em>countries</em>, <em>provinces</em>, <em>tracts of land</em>), and multi-part collections of these types. GeoJSON features need not represent entities of the physical world only; <em>mobile routing</em> and <em>navigation apps</em>, for example, might describe their service coverage using GeoJSON. The GeoJSON format differs from other GIS standards in that it was written and is maintained not by a formal standards organization, but by an Internet working group of developers.” <br></p>
<p><strong>geojsonR</strong> relies mainly on <a href="https://tools.ietf.org/pdf/rfc7946.pdf">RFC 7946</a>, which is the new standard specification of the GeoJSON format. Moreover, the package takes advantage of a C++11 JSON library (<a href="https://github.com/dropbox/json11">json11</a>) to do the encoding <em>from</em> and <em>to</em> geojson data objects and all functions are exported in R using the <em>Rcpp</em> and <em>RcppArmadillo</em> packages. <br></p>
<p>The following lines show an <a href="https://tools.ietf.org/pdf/rfc7946.pdf#page=5">example GeoJson object</a> (<em>“feature_collection.geojson”</em>),</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>{</span>
<span id="cb1-2"><a href="#cb1-2"></a>    <span class="st">"type"</span><span class="op">:</span><span class="st"> "FeatureCollection"</span>,</span>
<span id="cb1-3"><a href="#cb1-3"></a>    <span class="st">"features"</span><span class="op">:</span><span class="st"> </span>[{</span>
<span id="cb1-4"><a href="#cb1-4"></a>      </span>
<span id="cb1-5"><a href="#cb1-5"></a>        <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>,</span>
<span id="cb1-6"><a href="#cb1-6"></a>         <span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb1-7"><a href="#cb1-7"></a>             <span class="st">"type"</span><span class="op">:</span><span class="st"> "Point"</span>,</span>
<span id="cb1-8"><a href="#cb1-8"></a>             <span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">                </span>[<span class="fl">102.0</span>, <span class="fl">0.5</span>]</span>
<span id="cb1-10"><a href="#cb1-10"></a>         },</span>
<span id="cb1-11"><a href="#cb1-11"></a>         <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb1-12"><a href="#cb1-12"></a>         <span class="st">"prop0"</span><span class="op">:</span><span class="st"> "value0"</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>         }</span>
<span id="cb1-14"><a href="#cb1-14"></a>        }, {</span>
<span id="cb1-15"><a href="#cb1-15"></a>        </span>
<span id="cb1-16"><a href="#cb1-16"></a>           <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>,</span>
<span id="cb1-17"><a href="#cb1-17"></a>           <span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb1-18"><a href="#cb1-18"></a>               <span class="st">"type"</span><span class="op">:</span><span class="st"> "LineString"</span>,</span>
<span id="cb1-19"><a href="#cb1-19"></a>               <span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[</span>
<span id="cb1-20"><a href="#cb1-20"></a>                 [<span class="fl">102.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb1-21"><a href="#cb1-21"></a>                 [<span class="fl">103.0</span>, <span class="fl">1.0</span>],</span>
<span id="cb1-22"><a href="#cb1-22"></a>                 [<span class="fl">104.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb1-23"><a href="#cb1-23"></a>                 [<span class="fl">102.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb1-24"><a href="#cb1-24"></a>                 ]</span>
<span id="cb1-25"><a href="#cb1-25"></a>               },</span>
<span id="cb1-26"><a href="#cb1-26"></a>               <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb1-27"><a href="#cb1-27"></a>                <span class="st">"prop0"</span><span class="op">:</span><span class="st"> "value0"</span>,</span>
<span id="cb1-28"><a href="#cb1-28"></a>                <span class="st">"prop1"</span><span class="op">:</span><span class="st"> </span><span class="fl">0.0</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>               }</span>
<span id="cb1-30"><a href="#cb1-30"></a>        }</span>
<span id="cb1-31"><a href="#cb1-31"></a>    ]</span>
<span id="cb1-32"><a href="#cb1-32"></a>}</span></code></pre></div>
<p><br> The purpose of this package was not only the implementation of functions to convert from and to geojson objects, but also the development of web applications based on geojson objects / data, which I’ll explain later in the Vignette.</p>
<p><br></p>
<div id="from_geojson" class="section level5">
<h5 class="hasAnchor">
<a href="#from_geojson" class="anchor"></a><strong>FROM_GeoJson</strong>
</h5>
<p><br></p>
<p>The <strong>FROM_GeoJson</strong> function can take as input a <em>path to a file</em>, <em>a valid url</em> (beginning from http..) or a <em>GeoJson object in form of a character string</em>. The output is a named list and the resulted <em>coordinates</em> member is a matrix, as the following code chunks illustrate, <br></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># assuming that the data is saved in the previously mentioned "feature_collection.geojson"</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlampros/geojsonR">geojsonR</a></span><span class="op">)</span>

<span class="co"># INPUT IS A PATH TO A FILE</span>

<span class="va">file_js</span> <span class="op">=</span> <span class="fu"><a href="../reference/FROM_GeoJson.html">FROM_GeoJson</a></span><span class="op">(</span>url_file_string <span class="op">=</span> <span class="st">"feature_collection.geojson"</span><span class="op">)</span>

<span class="va">file_js</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># output :</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="op">$</span>features</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="op">$</span>features[[<span class="dv">1</span>]]</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>geometry</span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>geometry<span class="op">$</span>type</span>
<span id="cb3-8"><a href="#cb3-8"></a>[<span class="dv">1</span>] <span class="st">"Point"</span></span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>geometry<span class="op">$</span>coordinates</span>
<span id="cb3-11"><a href="#cb3-11"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb3-12"><a href="#cb3-12"></a>[<span class="dv">1</span>,]  <span class="dv">102</span>  <span class="fl">0.5</span></span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>properties</span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>properties<span class="op">$</span>prop0</span>
<span id="cb3-17"><a href="#cb3-17"></a>[<span class="dv">1</span>] <span class="st">"value0"</span></span>
<span id="cb3-18"><a href="#cb3-18"></a></span>
<span id="cb3-19"><a href="#cb3-19"></a></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>type</span>
<span id="cb3-21"><a href="#cb3-21"></a>[<span class="dv">1</span>] <span class="st">"Feature"</span></span>
<span id="cb3-22"><a href="#cb3-22"></a></span>
<span id="cb3-23"><a href="#cb3-23"></a></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="op">$</span>features[[<span class="dv">2</span>]]</span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>geometry</span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>geometry<span class="op">$</span>type</span>
<span id="cb3-27"><a href="#cb3-27"></a>[<span class="dv">1</span>] <span class="st">"LineString"</span></span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>geometry<span class="op">$</span>coordinates</span>
<span id="cb3-30"><a href="#cb3-30"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb3-31"><a href="#cb3-31"></a>[<span class="dv">1</span>,]  <span class="dv">102</span>    <span class="dv">0</span></span>
<span id="cb3-32"><a href="#cb3-32"></a>[<span class="dv">2</span>,]  <span class="dv">103</span>    <span class="dv">1</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>[<span class="dv">3</span>,]  <span class="dv">104</span>    <span class="dv">0</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>[<span class="dv">4</span>,]  <span class="dv">102</span>    <span class="dv">0</span></span>
<span id="cb3-35"><a href="#cb3-35"></a></span>
<span id="cb3-36"><a href="#cb3-36"></a></span>
<span id="cb3-37"><a href="#cb3-37"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>properties</span>
<span id="cb3-38"><a href="#cb3-38"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>properties<span class="op">$</span>prop0</span>
<span id="cb3-39"><a href="#cb3-39"></a>[<span class="dv">1</span>] <span class="st">"value0"</span></span>
<span id="cb3-40"><a href="#cb3-40"></a></span>
<span id="cb3-41"><a href="#cb3-41"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>properties<span class="op">$</span>prop1</span>
<span id="cb3-42"><a href="#cb3-42"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb3-43"><a href="#cb3-43"></a></span>
<span id="cb3-44"><a href="#cb3-44"></a></span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="op">$</span>features[[<span class="dv">2</span>]]<span class="op">$</span>type</span>
<span id="cb3-46"><a href="#cb3-46"></a>[<span class="dv">1</span>] <span class="st">"Feature"</span></span>
<span id="cb3-47"><a href="#cb3-47"></a></span>
<span id="cb3-48"><a href="#cb3-48"></a></span>
<span id="cb3-49"><a href="#cb3-49"></a></span>
<span id="cb3-50"><a href="#cb3-50"></a><span class="op">$</span>type</span>
<span id="cb3-51"><a href="#cb3-51"></a>[<span class="dv">1</span>] <span class="st">"FeatureCollection"</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># INPUT IS A GeoJson OBJECT (character string)</span>

<span class="va">str_js</span> <span class="op">=</span> <span class="st">'{ "type": "MultiPolygon", 
            "coordinates": [
                [[[102.0, 2.0], [103.0, 2.0], [103.0, 3.0], [102.0, 3.0], [102.0, 2.0]]],
                [[[100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0]],
                 [[100.2, 0.2], [100.8, 0.2], [100.8, 0.8], [100.2, 0.8], [100.2, 0.2]]]
                ]
}'</span>


<span class="va">char_js</span> <span class="op">=</span> <span class="fu"><a href="../reference/FROM_GeoJson.html">FROM_GeoJson</a></span><span class="op">(</span>url_file_string <span class="op">=</span> <span class="va">str_js</span><span class="op">)</span>

<span class="va">char_js</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="op">$</span>type</span>
<span id="cb5-2"><a href="#cb5-2"></a>[<span class="dv">1</span>] <span class="st">"MultiPolygon"</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="op">$</span>coordinates</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="op">$</span>coordinates[[<span class="dv">1</span>]]</span>
<span id="cb5-6"><a href="#cb5-6"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb5-7"><a href="#cb5-7"></a>[<span class="dv">1</span>,]  <span class="dv">102</span>    <span class="dv">2</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>[<span class="dv">2</span>,]  <span class="dv">103</span>    <span class="dv">2</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>[<span class="dv">3</span>,]  <span class="dv">103</span>    <span class="dv">3</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>[<span class="dv">4</span>,]  <span class="dv">102</span>    <span class="dv">3</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>[<span class="dv">5</span>,]  <span class="dv">102</span>    <span class="dv">2</span></span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="op">$</span>coordinates[[<span class="dv">2</span>]]</span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="op">$</span>coordinates[[<span class="dv">2</span>]][[<span class="dv">1</span>]]</span>
<span id="cb5-15"><a href="#cb5-15"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb5-16"><a href="#cb5-16"></a>[<span class="dv">1</span>,]  <span class="dv">100</span>    <span class="dv">0</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>[<span class="dv">2</span>,]  <span class="dv">101</span>    <span class="dv">0</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>[<span class="dv">3</span>,]  <span class="dv">101</span>    <span class="dv">1</span></span>
<span id="cb5-19"><a href="#cb5-19"></a>[<span class="dv">4</span>,]  <span class="dv">100</span>    <span class="dv">1</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>[<span class="dv">5</span>,]  <span class="dv">100</span>    <span class="dv">0</span></span>
<span id="cb5-21"><a href="#cb5-21"></a></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="op">$</span>coordinates[[<span class="dv">2</span>]][[<span class="dv">2</span>]]</span>
<span id="cb5-23"><a href="#cb5-23"></a>      [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb5-24"><a href="#cb5-24"></a>[<span class="dv">1</span>,] <span class="fl">100.2</span>  <span class="fl">0.2</span></span>
<span id="cb5-25"><a href="#cb5-25"></a>[<span class="dv">2</span>,] <span class="fl">100.8</span>  <span class="fl">0.2</span></span>
<span id="cb5-26"><a href="#cb5-26"></a>[<span class="dv">3</span>,] <span class="fl">100.8</span>  <span class="fl">0.8</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>[<span class="dv">4</span>,] <span class="fl">100.2</span>  <span class="fl">0.8</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>[<span class="dv">5</span>,] <span class="fl">100.2</span>  <span class="fl">0.2</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># INPUT IS A URL (beginning from http..)</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>url_path =<span class="st"> "https://raw.githubusercontent.com/mlampros/DataSets/master/california.geojson"</span></span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a>url_js =<span class="st"> </span><span class="kw">FROM_GeoJson</span>(<span class="dt">url_file_string =</span> url_path)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">str</span>(url_js)</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a>Warning message<span class="op">:</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>closing unused connection <span class="dv">3</span> (https<span class="op">:</span><span class="er">//</span>raw.githubusercontent.com<span class="op">/</span>mlampros<span class="op">/</span>DataSets<span class="op">/</span>master<span class="op">/</span>california.geojson) </span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>List of <span class="dv">4</span></span>
<span id="cb7-2"><a href="#cb7-2"></a> <span class="op">$</span><span class="st"> </span>geometry  <span class="op">:</span>List of <span class="dv">2</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  ..<span class="op">$</span><span class="st"> </span>type       <span class="op">:</span><span class="st"> </span>chr <span class="st">"MultiPolygon"</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  ..<span class="op">$</span><span class="st"> </span>coordinates<span class="op">:</span>List of <span class="dv">11</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">56</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> ...</span>
<span id="cb7-6"><a href="#cb7-6"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">64</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> ...</span>
<span id="cb7-7"><a href="#cb7-7"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">36</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> ...</span>
<span id="cb7-8"><a href="#cb7-8"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">24</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-120</span> <span class="dv">-119</span> ...</span>
<span id="cb7-9"><a href="#cb7-9"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">16</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-119</span> <span class="dv">-119</span> <span class="dv">-119</span> <span class="dv">-119</span> <span class="dv">-119</span> ...</span>
<span id="cb7-10"><a href="#cb7-10"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">42</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-119</span> <span class="dv">-119</span> <span class="dv">-119</span> <span class="dv">-119</span> <span class="dv">-119</span> ...</span>
<span id="cb7-11"><a href="#cb7-11"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">48</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-119</span> <span class="dv">-118</span> <span class="dv">-118</span> <span class="dv">-118</span> <span class="dv">-118</span> ...</span>
<span id="cb7-12"><a href="#cb7-12"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">11</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-122</span> <span class="dv">-122</span> <span class="dv">-122</span> <span class="dv">-122</span> <span class="dv">-122</span> ...</span>
<span id="cb7-13"><a href="#cb7-13"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">11</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-123</span> <span class="dv">-123</span> <span class="dv">-123</span> <span class="dv">-123</span> <span class="dv">-123</span> ...</span>
<span id="cb7-14"><a href="#cb7-14"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-122</span> <span class="dv">-122</span> <span class="dv">-122</span> <span class="dv">-122</span> <span class="dv">-122</span> ...</span>
<span id="cb7-15"><a href="#cb7-15"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">1154</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">-124</span> <span class="dv">-124</span> <span class="dv">-124</span> <span class="dv">-124</span> <span class="dv">-124</span> ...</span>
<span id="cb7-16"><a href="#cb7-16"></a> <span class="op">$</span><span class="st"> </span>id        <span class="op">:</span><span class="st"> </span>chr <span class="st">"california"</span></span>
<span id="cb7-17"><a href="#cb7-17"></a> <span class="op">$</span><span class="st"> </span>properties<span class="op">:</span>List of <span class="dv">11</span></span>
<span id="cb7-18"><a href="#cb7-18"></a>  ..<span class="op">$</span><span class="st"> </span>abbreviation<span class="op">:</span><span class="st"> </span>chr <span class="st">"CA"</span></span>
<span id="cb7-19"><a href="#cb7-19"></a>  ..<span class="op">$</span><span class="st"> </span>area        <span class="op">:</span><span class="st"> </span>num <span class="dv">423968</span></span>
<span id="cb7-20"><a href="#cb7-20"></a>  ..<span class="op">$</span><span class="st"> </span>capital     <span class="op">:</span><span class="st"> </span>chr <span class="st">"Sacramento"</span></span>
<span id="cb7-21"><a href="#cb7-21"></a>  ..<span class="op">$</span><span class="st"> </span>city        <span class="op">:</span><span class="st"> </span>chr <span class="st">"Los Angeles"</span></span>
<span id="cb7-22"><a href="#cb7-22"></a>  ..<span class="op">$</span><span class="st"> </span>group       <span class="op">:</span><span class="st"> </span>chr <span class="st">"US States"</span></span>
<span id="cb7-23"><a href="#cb7-23"></a>  ..<span class="op">$</span><span class="st"> </span>houseseats  <span class="op">:</span><span class="st"> </span>num <span class="dv">53</span></span>
<span id="cb7-24"><a href="#cb7-24"></a>  ..<span class="op">$</span><span class="st"> </span>landarea    <span class="op">:</span><span class="st"> </span>num <span class="dv">403466</span></span>
<span id="cb7-25"><a href="#cb7-25"></a>  ..<span class="op">$</span><span class="st"> </span>name        <span class="op">:</span><span class="st"> </span>chr <span class="st">"California"</span></span>
<span id="cb7-26"><a href="#cb7-26"></a>  ..<span class="op">$</span><span class="st"> </span>population  <span class="op">:</span><span class="st"> </span>num <span class="dv">38332521</span></span>
<span id="cb7-27"><a href="#cb7-27"></a>  ..<span class="op">$</span><span class="st"> </span>statehood   <span class="op">:</span><span class="st"> </span>chr <span class="st">"1850-09-09"</span></span>
<span id="cb7-28"><a href="#cb7-28"></a>  ..<span class="op">$</span><span class="st"> </span>waterarea   <span class="op">:</span><span class="st"> </span>num <span class="dv">20502</span></span>
<span id="cb7-29"><a href="#cb7-29"></a> <span class="op">$</span><span class="st"> </span>type      <span class="op">:</span><span class="st"> </span>chr <span class="st">"Feature"</span></span></code></pre></div>
<p><br><br></p>
</div>
<div id="to_geojson" class="section level5">
<h5 class="hasAnchor">
<a href="#to_geojson" class="anchor"></a><strong>TO_GeoJson</strong>
</h5>
<p><br></p>
<p>The <strong>TO_GeoJson</strong> function is an <a href="https://cran.r-project.org/package=R6">R6 class</a>, which takes as input a <em>vector</em> (in case of a <em>Point</em>) or a <em>list</em> (in case of the rest geometry objects) and converts it to a GeoJson object (named list). The output can also include the data in form of a geojson character string if the argument <em>stringify</em> is TRUE. The following code chunk shows the output for a polygon with interior rings,</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">init</span> <span class="op">=</span> <span class="va"><a href="../reference/TO_GeoJson.html">TO_GeoJson</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span>

<span class="va">polygon_WITH_dat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1.01</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">2.01</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1.0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1.01</span><span class="op">)</span><span class="op">)</span>,

                        <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">0.8</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">0.9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="va">polygon_with</span> <span class="op">=</span> <span class="va">init</span><span class="op">$</span><span class="fu">Polygon</span><span class="op">(</span><span class="va">polygon_WITH_dat</span>, stringify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">polygon_with</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>List of <span class="dv">3</span></span>
<span id="cb9-2"><a href="#cb9-2"></a> <span class="op">$</span><span class="st"> </span>json_dump  <span class="op">:</span><span class="st"> </span>chr <span class="st">"{</span><span class="ch">\"</span><span class="st">coordinates</span><span class="ch">\"</span><span class="st">: [[[100, 1.01], [200, 2.0099999999999998], [100, 1], [100, 1.01]], [[50, 0.5], [50, 0.80000000000000004], [50,"</span><span class="op">|</span><span class="st"> </span>__truncated__</span>
<span id="cb9-3"><a href="#cb9-3"></a> <span class="op">$</span><span class="st"> </span>type       <span class="op">:</span><span class="st"> </span>chr <span class="st">"Polygon"</span></span>
<span id="cb9-4"><a href="#cb9-4"></a> <span class="op">$</span><span class="st"> </span>coordinates<span class="op">:</span>List of <span class="dv">2</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  ..<span class="op">$</span><span class="st"> </span><span class="er">:</span>List of <span class="dv">4</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">100</span> <span class="fl">1.01</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">200</span> <span class="fl">2.01</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">100</span> <span class="dv">1</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">100</span> <span class="fl">1.01</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>  ..<span class="op">$</span><span class="st"> </span><span class="er">:</span>List of <span class="dv">4</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">50</span> <span class="fl">0.5</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">50</span> <span class="fl">0.8</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">50</span> <span class="fl">0.9</span></span>
<span id="cb9-14"><a href="#cb9-14"></a>  .. ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">50</span> <span class="fl">0.5</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># if "stringify = TRUE"</span></span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="kw">cat</span>(polygon_with<span class="op">$</span>json_dump)</span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a>{<span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[[[<span class="dv">100</span>, <span class="fl">1.01</span>], [<span class="dv">200</span>, <span class="fl">2.0099999999999998</span>], [<span class="dv">100</span>, <span class="dv">1</span>], [<span class="dv">100</span>, <span class="fl">1.01</span>]], [[<span class="dv">50</span>, <span class="fl">0.5</span>], [<span class="dv">50</span>, <span class="fl">0.80000000000000004</span>], [<span class="dv">50</span>, <span class="fl">0.90000000000000002</span>], [<span class="dv">50</span>, <span class="fl">0.5</span>]]], <span class="st">"type"</span><span class="op">:</span><span class="st"> "Polygon"</span>}</span></code></pre></div>
<p><br></p>
<p>The package documentation includes examples on how to build geojson objects for all geometries ( Point, MultiPoint, LineString, MultiLineString, Polygon (with or without interior rings), MultiPolygon, GeometryCollection, Feature and FeatureCollection ).</p>
<p><br><br></p>
</div>
<div id="dump_from_geojson" class="section level5">
<h5 class="hasAnchor">
<a href="#dump_from_geojson" class="anchor"></a><strong>Dump_From_GeoJson</strong>
</h5>
<p><br></p>
<p>The <strong>Dump_From_GeoJson</strong> function returns a GeoJson character string (GeoJson-dump) for a file or url. The following code excerpt shows the output for the previously mentioned <em>feature_collection.geojson</em> file,</p>
<p><br></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dump_js</span> <span class="op">=</span> <span class="fu"><a href="../reference/Dump_From_GeoJson.html">Dump_From_GeoJson</a></span><span class="op">(</span>url_file <span class="op">=</span> <span class="st">"feature_collection.geojson"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">dump_js</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>{<span class="st">"features"</span><span class="op">:</span><span class="st"> </span>[{<span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[<span class="dv">102</span>, <span class="fl">0.5</span>], <span class="st">"type"</span><span class="op">:</span><span class="st"> "Point"</span>}, <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"prop0"</span><span class="op">:</span><span class="st"> "value0"</span>}, <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>}, {<span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[[<span class="dv">102</span>, <span class="dv">0</span>], [<span class="dv">103</span>, <span class="dv">1</span>], [<span class="dv">104</span>, <span class="dv">0</span>], [<span class="dv">105</span>, <span class="dv">1</span>]], <span class="st">"type"</span><span class="op">:</span><span class="st"> "LineString"</span>}, <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"prop0"</span><span class="op">:</span><span class="st"> "value0"</span>, <span class="st">"prop1"</span><span class="op">:</span><span class="st"> </span><span class="dv">0</span>}, <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>}], <span class="st">"type"</span><span class="op">:</span><span class="st"> "FeatureCollection"</span>}</span></code></pre></div>
<p><br></p>
<p>The same applies to url files beginning from <em>http..</em>.</p>
<p><br><br></p>
</div>
<div id="features_2collection" class="section level5">
<h5 class="hasAnchor">
<a href="#features_2collection" class="anchor"></a><strong>Features_2Collection</strong>
</h5>
<p><br></p>
<p>The aim of the <strong>Features_2Collection</strong> function is to take a vector of valid path’s / url’s of <em>Feature object</em> files as input and to return a <em>Feature Collection</em>. For instance, if I have the following two files (“Feature1.geojson”, “Feature2.geojson”),</p>
<p><br></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># "Feature1.geojson"</span></span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a>{</span>
<span id="cb13-4"><a href="#cb13-4"></a> <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>,</span>
<span id="cb13-5"><a href="#cb13-5"></a> </span>
<span id="cb13-6"><a href="#cb13-6"></a> <span class="st">"id"</span><span class="op">:</span><span class="st"> </span><span class="dv">1</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a> </span>
<span id="cb13-8"><a href="#cb13-8"></a> <span class="st">"bbox"</span><span class="op">:</span><span class="st"> </span>[<span class="op">-</span><span class="fl">10.0</span>, <span class="fl">-10.0</span>, <span class="fl">10.0</span>, <span class="fl">10.0</span>],</span>
<span id="cb13-9"><a href="#cb13-9"></a> </span>
<span id="cb13-10"><a href="#cb13-10"></a> <span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb13-11"><a href="#cb13-11"></a> </span>
<span id="cb13-12"><a href="#cb13-12"></a>    <span class="st">"type"</span><span class="op">:</span><span class="st"> "Polygon"</span>,</span>
<span id="cb13-13"><a href="#cb13-13"></a>    </span>
<span id="cb13-14"><a href="#cb13-14"></a>    <span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[</span>
<span id="cb13-15"><a href="#cb13-15"></a>    </span>
<span id="cb13-16"><a href="#cb13-16"></a>         [</span>
<span id="cb13-17"><a href="#cb13-17"></a>            [<span class="op">-</span><span class="fl">10.0</span>, <span class="fl">-10.0</span>], [<span class="fl">10.0</span>, <span class="fl">-10.0</span>], [<span class="fl">10.0</span>, <span class="fl">10.0</span>], [<span class="op">-</span><span class="fl">10.0</span>, <span class="fl">-10.0</span>]</span>
<span id="cb13-18"><a href="#cb13-18"></a>         ]</span>
<span id="cb13-19"><a href="#cb13-19"></a>      ]</span>
<span id="cb13-20"><a href="#cb13-20"></a>    },</span>
<span id="cb13-21"><a href="#cb13-21"></a></span>
<span id="cb13-22"><a href="#cb13-22"></a>    <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb13-23"><a href="#cb13-23"></a>  </span>
<span id="cb13-24"><a href="#cb13-24"></a>      <span class="st">"prop_1"</span><span class="op">:</span><span class="st"> "addr1"</span>,</span>
<span id="cb13-25"><a href="#cb13-25"></a>  </span>
<span id="cb13-26"><a href="#cb13-26"></a>      <span class="st">"prop_2"</span><span class="op">:</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb13-27"><a href="#cb13-27"></a>    }</span>
<span id="cb13-28"><a href="#cb13-28"></a>}</span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># "Feature2.geojson"</span></span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a>{</span>
<span id="cb14-4"><a href="#cb14-4"></a> <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>,</span>
<span id="cb14-5"><a href="#cb14-5"></a> </span>
<span id="cb14-6"><a href="#cb14-6"></a> <span class="st">"id"</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span>,</span>
<span id="cb14-7"><a href="#cb14-7"></a> </span>
<span id="cb14-8"><a href="#cb14-8"></a> <span class="st">"bbox"</span><span class="op">:</span><span class="st"> </span>[<span class="op">-</span><span class="fl">10.0</span>, <span class="fl">-10.0</span>, <span class="fl">10.0</span>, <span class="fl">10.0</span>],</span>
<span id="cb14-9"><a href="#cb14-9"></a> </span>
<span id="cb14-10"><a href="#cb14-10"></a> <span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb14-11"><a href="#cb14-11"></a> </span>
<span id="cb14-12"><a href="#cb14-12"></a>    <span class="st">"type"</span><span class="op">:</span><span class="st"> "Polygon"</span>,</span>
<span id="cb14-13"><a href="#cb14-13"></a>    </span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[</span>
<span id="cb14-15"><a href="#cb14-15"></a>    </span>
<span id="cb14-16"><a href="#cb14-16"></a>         [</span>
<span id="cb14-17"><a href="#cb14-17"></a>            [<span class="op">-</span><span class="fl">10.0</span>, <span class="fl">-10.0</span>], [<span class="fl">10.0</span>, <span class="fl">-10.0</span>], [<span class="fl">10.0</span>, <span class="fl">10.0</span>], [<span class="op">-</span><span class="fl">10.0</span>, <span class="fl">-10.0</span>]</span>
<span id="cb14-18"><a href="#cb14-18"></a>         ]</span>
<span id="cb14-19"><a href="#cb14-19"></a>      ]</span>
<span id="cb14-20"><a href="#cb14-20"></a>    },</span>
<span id="cb14-21"><a href="#cb14-21"></a></span>
<span id="cb14-22"><a href="#cb14-22"></a>    <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{</span>
<span id="cb14-23"><a href="#cb14-23"></a>  </span>
<span id="cb14-24"><a href="#cb14-24"></a>      <span class="st">"prop_1"</span><span class="op">:</span><span class="st"> "addr2"</span>,</span>
<span id="cb14-25"><a href="#cb14-25"></a>  </span>
<span id="cb14-26"><a href="#cb14-26"></a>      <span class="st">"prop_2"</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb14-27"><a href="#cb14-27"></a>    }</span>
<span id="cb14-28"><a href="#cb14-28"></a>}</span></code></pre></div>
<p><br></p>
<p>then the output of the function will be a Feature Collection dump,</p>
<p><br></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">vec_in</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Feature1.geojson"</span>, <span class="st">"Feature2.geojson"</span><span class="op">)</span>

<span class="va">res_fcol</span> <span class="op">=</span> <span class="fu"><a href="../reference/Features_2Collection.html">Features_2Collection</a></span><span class="op">(</span><span class="va">vec_in</span>, bbox_vec <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">res_fcol</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>{<span class="st">"bbox"</span><span class="op">:</span><span class="st"> </span>[], <span class="st">"features"</span><span class="op">:</span><span class="st"> </span>[{<span class="st">"bbox"</span><span class="op">:</span><span class="st"> </span>[<span class="op">-</span><span class="dv">10</span>, <span class="dv">-10</span>, <span class="dv">10</span>, <span class="dv">10</span>], <span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[[[<span class="op">-</span><span class="dv">10</span>, <span class="dv">-10</span>], [<span class="dv">10</span>, <span class="dv">-10</span>], [<span class="dv">10</span>, <span class="dv">10</span>], [<span class="op">-</span><span class="dv">10</span>, <span class="dv">-10</span>]]], <span class="st">"type"</span><span class="op">:</span><span class="st"> "Polygon"</span>}, <span class="st">"id"</span><span class="op">:</span><span class="st"> </span><span class="dv">1</span>, <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"prop_1"</span><span class="op">:</span><span class="st"> "addr1"</span>, <span class="st">"prop_2"</span><span class="op">:</span><span class="st"> </span><span class="dv">1</span>}, <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>}, {<span class="st">"bbox"</span><span class="op">:</span><span class="st"> </span>[<span class="op">-</span><span class="dv">10</span>, <span class="dv">-10</span>, <span class="dv">10</span>, <span class="dv">10</span>], <span class="st">"geometry"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"coordinates"</span><span class="op">:</span><span class="st"> </span>[[[<span class="op">-</span><span class="dv">10</span>, <span class="dv">-10</span>], [<span class="dv">10</span>, <span class="dv">-10</span>], [<span class="dv">10</span>, <span class="dv">10</span>], [<span class="op">-</span><span class="dv">10</span>, <span class="dv">-10</span>]]], <span class="st">"type"</span><span class="op">:</span><span class="st"> "Polygon"</span>}, <span class="st">"id"</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span>, <span class="st">"properties"</span><span class="op">:</span><span class="st"> </span>{<span class="st">"prop_1"</span><span class="op">:</span><span class="st"> "addr2"</span>, <span class="st">"prop_2"</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span>}, <span class="st">"type"</span><span class="op">:</span><span class="st"> "Feature"</span>}], <span class="st">"type"</span><span class="op">:</span><span class="st"> "FeatureCollection"</span>}</span></code></pre></div>
<p><br><br></p>
</div>
<div id="web-applications-using-shiny-leaflet-geojsonr-and-nominatim" class="section level5">
<h5 class="hasAnchor">
<a href="#web-applications-using-shiny-leaflet-geojsonr-and-nominatim" class="anchor"></a><strong>Web applications using shiny, leaflet, geojsonR and nominatim</strong>
</h5>
<p><br></p>
<p>A secondary thought about the <em>geojsonR</em> package was to make some of its functions available for applications. I’ve built some simple <a href="https://en.wikipedia.org/wiki/Geocoding">geocoding</a> applications taking advantage of shiny, leaflet and Nominatim. The source code of those applications can be found in my <a href="https://github.com/mlampros/shiny-server">Github repository</a>. To open the applications one should either use <em>from inside an R session</em>,</p>
<ul>
<li>shiny::runGitHub(‘shiny-server’, ‘mlampros’, subdir = ‘geocoding_geojson’)</li>
<li>shiny::runGitHub(‘shiny-server’, ‘mlampros’, subdir = ‘geocoding_nominatim’)</li>
<li>shiny::runGitHub(‘shiny-server’, ‘mlampros’, subdir = ‘geocoding_nominatim_reverse’)</li>
</ul>
<p>or follow the web-links using the <a href="https://www.shinyapps.io/">shinyapps.io</a> service,</p>
<ul>
<li><a href="https://lampros.shinyapps.io/shiny_geocoding/" class="uri">https://lampros.shinyapps.io/shiny_geocoding/</a></li>
<li><a href="https://lampros.shinyapps.io/shiny_geojson/" class="uri">https://lampros.shinyapps.io/shiny_geojson/</a></li>
<li><a href="https://lampros.shinyapps.io/shiny_reverse_geocoding/" class="uri">https://lampros.shinyapps.io/shiny_reverse_geocoding/</a></li>
</ul>
<p>The latter service is limited to 25 active hours per month (for free accounts), thus if the limit is exceeded then the applications won’t be available to the end users.</p>
<p>I won’t go into detail about <a href="https://shiny.rstudio.com/">shiny</a> and <a href="https://rstudio.github.io/leaflet/">leaflet</a>, because both packages are well documented and users can find information on how to include them in their projects. On the other hand, “<em>Nominatim</em> is a tool to search OpenStreetMap (OSM) data by name and address and to generate synthetic addresses of OSM points (reverse geocoding). It can be found at <em>nominatim.openstreetmap.org</em>. Nominatim is also used as one of the sources for the search box on the OpenStreetMap home page. Several companies provide hosted instances of Nominatim that you can query via an API.” More information on how to use <em>Nominatim</em> can be found at <a href="https://wiki.openstreetmap.org/wiki/Nominatim" class="uri">https://wiki.openstreetmap.org/wiki/Nominatim</a>).</p>
<p><br></p>
</div>
<div id="geocoding_geojson" class="section level5">
<h5 class="hasAnchor">
<a href="#geocoding_geojson" class="anchor"></a><strong>geocoding_geojson</strong>
</h5>
<p><br></p>
<p>The first application <em>geocoding_geojson</em> takes a valid <em>GeoJson</em> file, url (beginning from http..) or a valid json character string as input (<em>Data Input field</em>) and a <em>map_provider</em> (defaults to OpenStreetMap) and returns a leaflet map. If the <em>map_provider</em> is other than OpenStreetMap, then the input parameter should match one of the names(leaflet::providers). More information about the leaflet:providers can be found in the following links: <a href="https://rstudio.github.io/leaflet/basemaps.html" class="uri">https://rstudio.github.io/leaflet/basemaps.html</a>, <a href="https://github.com/leaflet-extras/leaflet-providers" class="uri">https://github.com/leaflet-extras/leaflet-providers</a> and <a href="http://leaflet-extras.github.io/leaflet-providers/preview/index.html" class="uri">http://leaflet-extras.github.io/leaflet-providers/preview/index.html</a>. The following image shows the output for the <a href="https://raw.githubusercontent.com/mlampros/DataSets/master/california.geojson">california.geojson</a> file using the <em>CartoDB.Positron</em> as <em>map_provider</em>,</p>
<p><br></p>
<p><img src="geojson_geocoding.png"></p>
<p><br><br></p>
</div>
<div id="geocoding_nominatim" class="section level5">
<h5 class="hasAnchor">
<a href="#geocoding_nominatim" class="anchor"></a><strong>geocoding_nominatim</strong>
</h5>
<p><br></p>
<p>The second application <em>geocoding_nominatim</em> takes a valid address (using either a streetname, a housenumber, a city, a county, a state, a country, a postalcode and/or a map_provider) and returns all possible locations. The user then can choose one of the resulted locations from the <em>Output Locations</em> drop-down menu (if there are more than one) and the output will be a leaflet map with information about the address, longitude and latitude. This type of geocoding is called <em>forward geocoding</em> (or <em>address geocoding</em>) and is the process of finding an associated latitude and longitude for a given address. The next image shows the results in case that the input to the city field is <em>Athens</em>,</p>
<p><br></p>
<p><img src="geocoding_nominatim.png"></p>
<p><br></p>
<p>The user can be more specific about the location taking advantage of all or more than one fields. In case that there is no match, the following warning will be returned : <em>“the nominatim query returns an empty array. Please, modify the initial query”</em>.</p>
<p><br><br></p>
</div>
<div id="geocoding_nominatim_reverse" class="section level5">
<h5 class="hasAnchor">
<a href="#geocoding_nominatim_reverse" class="anchor"></a><strong>geocoding_nominatim_reverse</strong>
</h5>
<p><br></p>
<p>The last application <em>geocoding_nominatim_reverse</em> takes a valid latitude, longitude, zoom (ranges from 0 to 18) and/or a map_provider and returns an address for these coordinates. A leaflet map will be created with information about the associated address or the nearest address point (<em>Reverse geocoding</em>). The following image shows my current location (approximately) using the <em>Esri.WorldImagery</em> as <em>map_provider</em>,</p>
<p><br></p>
<p><img src="geocoding_nominatim_reverse.png"></p>
<p><br></p>
<p>To report any bugs / issues for the shiny-geocoding applications use the following link <a href="https://github.com/mlampros/shiny-server/issues">https://github.com/mlampros/shiny-server/issues</a>.</p>
<p><br></p>
<p>An updated version of <strong>geojsonR</strong> can be found in my <a href="https://github.com/mlampros/geojsonR">Github repository</a> and to report bugs/issues for the package use the following link, <a href="https://github.com/mlampros/geojsonR/issues">https://github.com/mlampros/geojsonR/issues</a>.</p>
<p><br></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Lampros Mouselimis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
